/*!
 * Vanilla JS fork of jquery-tiltedpage-scroll.js plugin
 *
 * Create a beautiful 3D tilted effect on scroll
 * with Tilted Page Scroll plugin
 * https://github.com/peachananr/tiltedpage_scroll
 *
 * Revealing Constructor Pattern Boilerplate
 * https://vanillajstoolkit.com/boilerplates/revealing-constructor/
 */
const TiltedPage=function(){"use strict";return function(e){const t=Object.assign({},{selector:null,sectionContainer:"> section",angle:50,opacity:!0,scale:!0,outAnimation:!0},e),n=document.querySelector(t.selector);let i,o,r,s,p=[];const c=function(e){!function(e){let t=e.getBoundingClientRect().top+o;return t+e.offsetHeight>=o&&t<=r}(e)?e.classList.remove("tps-inview"):e.classList.add("tps-inview"),p=document.querySelectorAll(".tps-section.tps-inview .tps-wrapper")},l=function(){o=window.pageYOffset,r=o+window.innerHeight,s=window.innerHeight,i.forEach(e=>{c(e)}),p.forEach(e=>{e.elemTop=e.parentNode.getBoundingClientRect().top+o,e.elemHeight=e.parentNode.offsetHeight;let n=function(e){if(!1===t.angle)return 0;let n;return(n=(e.elemTop-e.elemHeight-o)/s*(3*t.angle))<0&&(n=0),o>e.elemTop&&(!1===t.outAnimation?n>0&&(n=0):n=(e.elemTop-o)/window.innerHeight*(3*t.angle)),n}(e),i=function(e){if(!1===t.scale)return 1;let n=(o+s-(e.elemTop-e.elemHeight))/s;return n>1&&(n=1),o>e.elemTop&&t.outAnimation&&(n=(o+s-e.elemTop)/s),n}(e),r=function(e){if(!1===t.opacity)return 1;let n;return o>e.elemTop&&!1===t.outAnimation?1:(o>e.elemTop?(n=(e.elemTop+1.2*window.innerHeight-o)/window.innerHeight,n=Math.pow(n,25)):(n=(o+window.innerHeight-e.elemTop+e.elemHeight/2)/window.innerHeight)>1&&(n=1),n)}(e);e.style.transform="rotateX("+n+"deg) scale("+i+", "+i+")",e.style.opacity=r})};return function(){if(!t.selector||!t.sectionContainer)throw new Error("Please provide a valid selector");(i=n?n.querySelectorAll(":scope "+t.sectionContainer):null)&&(function(){let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("div");t.innerHTML='<p>x</p><style id="tps-styles">.tps-section{width:100%;height:500px;-webkit-perspective:10em;-moz-perspective:10em;-ms-perspective:10em;-o-perspective:10em;perspective:10em;-webkit-perspective-origin:center bottom;-moz-perspective-origin:center bottom;-ms-perspective-origin:center bottom;-o-perspective-origin:center bottom;perspective-origin:center bottom;-webkit-perspective-origin:50% 50%;-moz-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;-ms-transform-style:preserve-3d;-o-transform-style:preserve-3d;transform-style:preserve-3d}.tps-wrapper{float:left;width:100%;height:100%}</style>',e.appendChild(t.childNodes[1])}(),i.forEach(e=>{e.classList.add("tps-section");let t=e.innerHTML;e.innerHTML=`<div class='tps-wrapper'>${t}</div>`}),window.addEventListener("load",l),window.addEventListener("scroll",l),window.addEventListener("resize",l),document.addEventListener("DOMContentLoaded",l))}()}}();
/*!
 * Vanilla JS fork of jquery-tiltedpage-scroll.js plugin
 * https://github.com/jamestylerpatton/TiltedPageScroll
 *
 * Create a beautiful 3D tilted effect on scroll
 * with Tilted Page Scroll plugin
 * https://github.com/peachananr/tiltedpage_scroll
 *
 * Revealing Constructor Pattern Boilerplate
 * https://vanillajstoolkit.com/boilerplates/revealing-constructor/
 */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.TiltedPage=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(e){"use strict";return function(t){const n=Object.assign({},{selector:null,sectionContainer:"> section",angle:50,opacity:!0,scale:!0,outAnimation:!0},t),i=document.querySelector(n.selector);let o,r,s,p,l=[];const c=function(e){!function(e){let t=e.getBoundingClientRect().top+r;return t+e.offsetHeight>=r&&t<=s}(e)?e.classList.remove("tps-inview"):e.classList.add("tps-inview"),l=document.querySelectorAll(".tps-section.tps-inview .tps-wrapper")},a=function(){r=e.pageYOffset,s=r+e.innerHeight,p=e.innerHeight,o.forEach(e=>{c(e)}),l.forEach(t=>{t.elemTop=t.parentNode.getBoundingClientRect().top+r,t.elemHeight=t.parentNode.offsetHeight;let i=function(t){if(!1===n.angle)return 0;let i;return(i=(t.elemTop-t.elemHeight-r)/p*(3*n.angle))<0&&(i=0),r>t.elemTop&&(!1===n.outAnimation?i>0&&(i=0):i=(t.elemTop-r)/e.innerHeight*(3*n.angle)),i}(t),o=function(e){if(!1===n.scale)return 1;let t=(r+p-(e.elemTop-e.elemHeight))/p;return t>1&&(t=1),r>e.elemTop&&n.outAnimation&&(t=(r+p-e.elemTop)/p),t}(t),s=function(t){if(!1===n.opacity)return 1;let i;return r>t.elemTop&&!1===n.outAnimation?1:(r>t.elemTop?(i=(t.elemTop+1.2*e.innerHeight-r)/e.innerHeight,i=Math.pow(i,25)):(i=(r+e.innerHeight-t.elemTop+t.elemHeight/2)/e.innerHeight)>1&&(i=1),i)}(t);t.style.transform="rotateX("+i+"deg) scale("+o+", "+o+")",t.style.opacity=s})};return function(){if(!n.selector||!n.sectionContainer)throw new Error("Please provide a valid selector");(o=i?i.querySelectorAll(":scope "+n.sectionContainer):null)&&(function(){let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("div");t.innerHTML='<p>x</p><style id="tps-styles">.tps-section{width:100%;height:500px;-webkit-perspective:10em;-moz-perspective:10em;-ms-perspective:10em;-o-perspective:10em;perspective:10em;-webkit-perspective-origin:center bottom;-moz-perspective-origin:center bottom;-ms-perspective-origin:center bottom;-o-perspective-origin:center bottom;perspective-origin:center bottom;-webkit-perspective-origin:50% 50%;-moz-perspective-origin:50% 50%;-ms-perspective-origin:50% 50%;-o-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;-ms-transform-style:preserve-3d;-o-transform-style:preserve-3d;transform-style:preserve-3d}.tps-wrapper{float:left;width:100%;height:100%}</style>',e.appendChild(t.childNodes[1])}(),o.forEach(e=>{e.classList.add("tps-section");let t=e.innerHTML;e.innerHTML=`<div class='tps-wrapper'>${t}</div>`}),e.addEventListener("load",a),e.addEventListener("scroll",a),e.addEventListener("resize",a),document.addEventListener("DOMContentLoaded",a))}()}});